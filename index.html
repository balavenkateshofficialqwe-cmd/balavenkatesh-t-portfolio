<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Finance & Attendance Dashboard</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box;margin:0;padding:0;font-family:'Poppins',sans-serif;}

body{
min-height:100vh;
display:flex;
justify-content:center;
align-items:center;
background:linear-gradient(-45deg,#667eea,#764ba2,#ff6a88,#43cea2);
background-size:400% 400%;
animation:gradient 12s ease infinite;
}

@keyframes gradient{
0%{background-position:0% 50%;}
50%{background-position:100% 50%;}
100%{background-position:0% 50%;}
}

.container{
width:95%;
max-width:1000px;
padding:30px;
border-radius:25px;
backdrop-filter:blur(20px);
background:rgba(255,255,255,0.15);
color:white;
box-shadow:0 20px 40px rgba(0,0,0,0.3);
}

.tabs{
display:flex;
gap:10px;
margin-bottom:20px;
}

.tabs button{
flex:1;
padding:12px;
border:none;
border-radius:12px;
cursor:pointer;
font-weight:600;
background:rgba(255,255,255,0.2);
color:white;
transition:0.3s;
}

.tabs button.active{
background:white;
color:black;
}

.section{display:none;}
.section.active{display:block;}

input,select{
padding:10px;
border-radius:10px;
border:none;
outline:none;
margin-bottom:10px;
width:100%;
}

button.main-btn{
padding:10px;
border-radius:10px;
border:none;
font-weight:600;
cursor:pointer;
background:linear-gradient(45deg,#ff6a88,#ff99ac);
color:white;
margin-bottom:10px;
}

.list{list-style:none;max-height:200px;overflow-y:auto;}
.list li{
display:flex;
justify-content:space-between;
background:rgba(255,255,255,0.1);
margin-bottom:8px;
padding:8px;
border-radius:8px;
}
.income{border-left:5px solid #00ffcc;}
.expense{border-left:5px solid #ff4d6d;}
.delete-btn{
background:#ff4d6d;
border:none;
padding:3px 6px;
border-radius:5px;
cursor:pointer;
color:white;
}

table{
width:100%;
border-collapse:collapse;
background:rgba(255,255,255,0.1);
}
th,td{padding:10px;text-align:center;}
.present{color:#00ffcc;font-weight:600;}
.absent{color:#ff4d6d;font-weight:600;}

.summary-box{
display:flex;
justify-content:space-between;
margin-top:15px;
background:rgba(255,255,255,0.1);
padding:10px;
border-radius:10px;
}
</style>
</head>
<body>

<div class="container">

<h1 style="text-align:center;margin-bottom:20px;">ðŸ’¼ Dashboard</h1>

<div class="tabs">
<button class="active" onclick="showSection('expense')">ðŸ’° Expense Tracker</button>
<button onclick="showSection('attendance')">ðŸ“… Attendance Tracker</button>
</div>

<!-- ================= EXPENSE SECTION ================= -->
<div id="expense" class="section active">

<h3>Your Balance</h3>
<h2 id="balance">$0.00</h2>

<p>Income: <span id="income" style="color:#00ffcc">$0.00</span></p>
<p>Expense: <span id="expenseTotal" style="color:#ff4d6d">$0.00</span></p>

<h3>Add Transaction</h3>
<form id="expenseForm">
<input type="text" id="text" placeholder="Description">
<input type="number" id="amount" placeholder="Amount">
<select id="type">
<option value="income">Income</option>
<option value="expense">Expense</option>
</select>
<button class="main-btn" type="submit">Add</button>
</form>

<ul id="transactionList" class="list"></ul>

</div>

<!-- ================= ATTENDANCE SECTION ================= -->
<div id="attendance" class="section">

<h3>Add Student</h3>
<input type="text" id="studentName" placeholder="Student Name">
<button class="main-btn" onclick="addStudent()">Add Student</button>

<table>
<thead>
<tr>
<th>#</th>
<th>Name</th>
<th>Status</th>
<th>Actions</th>
</tr>
</thead>
<tbody id="studentList"></tbody>
</table>

<div class="summary-box">
<div>Total: <span id="total">0</span></div>
<div>Present: <span id="presentCount">0</span></div>
<div>Attendance: <span id="percentage">0%</span></div>
</div>

</div>

</div>

<script>
/* ================= TAB SWITCHING ================= */
function showSection(id){
document.querySelectorAll('.section').forEach(sec=>sec.classList.remove('active'));
document.getElementById(id).classList.add('active');
document.querySelectorAll('.tabs button').forEach(btn=>btn.classList.remove('active'));
event.target.classList.add('active');
}

/* ================= EXPENSE TRACKER ================= */
let transactions=JSON.parse(localStorage.getItem("transactions"))||[];

function saveTransactions(){
localStorage.setItem("transactions",JSON.stringify(transactions));
}

document.getElementById("expenseForm").addEventListener("submit",function(e){
e.preventDefault();
const text=document.getElementById("text").value;
const amount=document.getElementById("amount").value;
const type=document.getElementById("type").value;
if(text===""||amount==="")return;
transactions.push({id:Date.now(),text,amount:+amount,type});
saveTransactions();
renderTransactions();
this.reset();
});

function renderTransactions(){
const list=document.getElementById("transactionList");
list.innerHTML="";
let income=0,expense=0;
transactions.forEach(t=>{
const li=document.createElement("li");
li.classList.add(t.type);
li.innerHTML=`
${t.text}
<span>${t.type==='expense'?'-':'+'}$${t.amount}</span>
<button class="delete-btn" onclick="deleteTransaction(${t.id})">x</button>
`;
list.appendChild(li);
if(t.type==="income")income+=t.amount;
else expense+=t.amount;
});
document.getElementById("income").innerText="$"+income.toFixed(2);
document.getElementById("expenseTotal").innerText="$"+expense.toFixed(2);
document.getElementById("balance").innerText="$"+(income-expense).toFixed(2);
}

function deleteTransaction(id){
transactions=transactions.filter(t=>t.id!==id);
saveTransactions();
renderTransactions();
}

/* ================= ATTENDANCE TRACKER ================= */
let students=JSON.parse(localStorage.getItem("students"))||[];

function saveStudents(){
localStorage.setItem("students",JSON.stringify(students));
}

function addStudent(){
const name=document.getElementById("studentName").value.trim();
if(name==="")return;
students.push({id:Date.now(),name,status:"Absent"});
saveStudents();
renderStudents();
document.getElementById("studentName").value="";
}

function setStatus(id,status){
students=students.map(s=>s.id===id?{...s,status}:s);
saveStudents();
renderStudents();
}

function deleteStudent(id){
students=students.filter(s=>s.id!==id);
saveStudents();
renderStudents();
}

function renderStudents(){
const list=document.getElementById("studentList");
list.innerHTML="";
let present=0;
students.forEach((s,i)=>{
if(s.status==="Present")present++;
list.innerHTML+=`
<tr>
<td>${i+1}</td>
<td>${s.name}</td>
<td class="${s.status==='Present'?'present':'absent'}">${s.status}</td>
<td>
<button onclick="setStatus(${s.id},'Present')">Present</button>
<button onclick="setStatus(${s.id},'Absent')">Absent</button>
<button onclick="deleteStudent(${s.id})">Delete</button>
</td>
</tr>
`;
});
document.getElementById("total").innerText=students.length;
document.getElementById("presentCount").innerText=present;
document.getElementById("percentage").innerText=
students.length===0?"0%":Math.round((present/students.length)*100)+"%";
}

/* INIT */
renderTransactions();
renderStudents();
</script>

</body>
</html>
